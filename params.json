{"name":"Swift-informant","tagline":"Swift Informant Middleware","body":"# Swift Informant - [![Build Status](https://secure.travis-ci.org/pandemicsyn/swift-informant.png?branch=master)](http://travis-ci.org/pandemicsyn/swift-informant)\r\n\r\nSwift Proxy Middleware to send events to a [statsd](http://github.com/etsy/statsd/ \"statsd\") instance.\r\n\r\n**After** the request has been serviced (using a event posthook) it will fire a statsd counter incrementing the request method's status code.  It breaks these up by whether the request was an operation on an Account, Container, or an Object. In addition to the counter a timer event is fired for the request duration of the event, as well as counter for bytes transferred.\r\n\r\nCounter Sample:\r\n\r\n    obj.GET.200:1|c\r\n\r\nTimer Sample:\r\n\r\n    duration.acct.GET.200:140|ms\r\n\r\nBytes Transferred Sample:\r\n\r\n    tfer.obj.PUT.201 2423.9\r\n\r\nTo enable, load informant as the first pipeline entry (even before catcherrors):\r\n\r\n    pipeline = informant catch_errors healthcheck cache ratelimit proxy-server\r\n\r\nAnd add the following filter config:\r\n\r\n    [filter:informant]\r\n    use = egg:informant#informant\r\n    # statsd_host = 127.0.0.1\r\n    # statsd_port = 8125\r\n    # standard statsd sample rate 0.0 <= 1\r\n    # statsd_sample_rate = 0.5\r\n    # list of allowed methods, all others will generate a \"BAD_METHOD\" event\r\n    # valid_http_methods = GET,HEAD,POST,PUT,DELETE,COPY\r\n    # send multiple statsd events per packet as supported by statsdpy\r\n    # combined_events = no\r\n    # prepends name to metric collection output for easier recognition, e.g. company.swift.\r\n    # metric_name_prepend = \r\n\r\nThe commented out values are the defaults. This module does not require any additional statsd client modules. \r\n**To utilize combined_events you'll need to run a statsd server that supports mulitple events per packet such as [statsdpy](https://github.com/pandemicsyn/statsdpyd)**\r\n\r\n# Building packages\r\n\r\nClone the version you want and build the package with [stdeb](https://github.com/astraw/stdeb \"stdeb\"):\r\n    \r\n    git clone git@github.com:pandemicsyn/swift-informant.git informant-0.0.5\r\n    cd informant-0.0.5\r\n    git checkout 0.0.5\r\n    python setup.py --command-packages=stdeb.command bdist_deb\r\n    dpkg -i deb_dist/python-informant_0.0.5-1_all.deb","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}